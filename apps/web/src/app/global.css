@import url('https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700&family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --bg: #080C15; --surface: #111827; --surface-alt: #1A2236; --surface-hover: #1F2A40;
  --primary: #10B981; --primary-hover: #059669; --primary-muted: #064E3B;
  --primary-glow: rgba(16, 185, 129, 0.15); --accent: #8B5CF6; --accent-muted: #4C1D95;
  --text: #F1F5F9; --text-secondary: #CBD5E1; --text-muted: #64748B; --text-faint: #475569;
  --border: #1E293B; --border-light: #334155;
  --error: #EF4444; --error-bg: rgba(127, 29, 29, 0.13); --success: #10B981; --warning: #F59E0B;
  --input-bg: rgba(26, 34, 54, 0.5); --input-border: #334155; --input-focus: #10B981;
  --card-shadow: 0 8px 32px rgba(0, 0, 0, 0.4); --glow-shadow: 0 0 40px rgba(16, 185, 129, 0.08);
  --gradient-bg: radial-gradient(ellipse at 20% 0%, rgba(16, 185, 129, 0.06) 0%, transparent 50%), radial-gradient(ellipse at 80% 100%, rgba(139, 92, 246, 0.04) 0%, transparent 50%), #080C15;
  --font-heading: 'Sora', sans-serif; --font-body: 'IBM Plex Sans', sans-serif; --font-mono: 'IBM Plex Mono', monospace;
  --radius-sm: 8px; --radius-md: 12px; --radius-lg: 16px; --radius-xl: 20px; --radius-full: 9999px;
  --sidebar-width: 260px; --mobile-header-height: 56px; --mobile-bottom-bar-height: 64px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }
html { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
body { font-family: var(--font-body); background: var(--bg); color: var(--text); min-height: 100vh; transition: background-color 0.3s ease, color 0.3s ease; }
h1, h2, h3, h4, h5, h6 { font-family: var(--font-heading); font-weight: 700; color: var(--text); letter-spacing: -0.02em; }

input, textarea, select { font-family: var(--font-body); background: var(--input-bg); border: 1px solid var(--input-border); border-radius: var(--radius-md); padding: 12px 14px; font-size: 14px; color: var(--text); width: 100%; outline: none; transition: border-color 0.2s ease, box-shadow 0.2s ease; }
input::placeholder, textarea::placeholder { color: var(--text-faint); }
input:focus, textarea:focus, select:focus { border-color: var(--input-focus); box-shadow: 0 0 0 3px var(--primary-glow); }
input:disabled { opacity: 0.5; cursor: not-allowed; }

.btn-primary { display: inline-flex; align-items: center; justify-content: center; gap: 8px; background: linear-gradient(135deg, var(--primary), var(--primary-hover)); color: white; border: none; border-radius: var(--radius-md); padding: 12px 24px; font-family: var(--font-body); font-size: 14px; font-weight: 700; cursor: pointer; letter-spacing: 0.3px; box-shadow: 0 4px 16px var(--primary-glow); transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease; width: 100%; }
.btn-primary:hover { transform: translateY(-1px); box-shadow: 0 6px 24px var(--primary-glow); }
.btn-primary:active { transform: translateY(0); }
.btn-primary:disabled { opacity: 0.5; cursor: not-allowed; transform: none; }

.btn-secondary { display: inline-flex; align-items: center; justify-content: center; gap: 8px; background: transparent; color: var(--primary); border: 1px solid color-mix(in srgb, var(--primary) 40%, transparent); border-radius: var(--radius-md); padding: 12px 24px; font-family: var(--font-body); font-size: 14px; font-weight: 600; cursor: pointer; transition: background 0.15s ease, border-color 0.15s ease; width: 100%; }
.btn-secondary:hover { background: var(--primary-glow); border-color: var(--primary); }

.auth-page { min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 24px; background: var(--gradient-bg); position: relative; overflow: hidden; }
.auth-card { background: color-mix(in srgb, var(--surface) 80%, transparent); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px); border-radius: var(--radius-lg); border: 1px solid var(--border); box-shadow: var(--card-shadow); width: 100%; max-width: 420px; position: relative; }
.auth-card-header { text-align: center; padding: 32px 32px 0; }
.auth-card-body { padding: 28px 32px 32px; }
.auth-page::before { content: ''; position: absolute; top: -120px; right: -80px; width: 350px; height: 350px; border-radius: 50%; background: var(--primary-glow); filter: blur(80px); pointer-events: none; }
.auth-page::after { content: ''; position: absolute; bottom: -100px; left: -60px; width: 300px; height: 300px; border-radius: 50%; background: color-mix(in srgb, var(--accent) 5%, transparent); filter: blur(80px); pointer-events: none; }
.auth-grid-pattern { position: absolute; inset: 0; opacity: 0.03; background-image: linear-gradient(var(--text) 1px, transparent 1px), linear-gradient(90deg, var(--text) 1px, transparent 1px); background-size: 60px 60px; pointer-events: none; }

/* App Layout â€” Desktop sidebar + Mobile bottom bar */
.sidebar-desktop { display: block; }
.mobile-only { display: none; }
.app-content { margin-left: var(--sidebar-width); min-height: 100vh; padding: 28px 32px; background: var(--bg); }

@media (max-width: 768px) {
  .sidebar-desktop { display: none; }
  .mobile-only { display: block; }
  .app-content { margin-left: 0; padding-top: calc(var(--mobile-header-height) + 16px); padding-bottom: calc(var(--mobile-bottom-bar-height) + 16px); padding-left: 16px; padding-right: 16px; }
}

a { color: var(--primary); text-decoration: none; font-weight: 600; transition: opacity 0.15s ease; }
a:hover { opacity: 0.8; }

::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--border-light); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: var(--text-faint); }

@keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
.animate-fade-in { animation: fadeIn 0.4s ease-out forwards; }
@keyframes spin { to { transform: rotate(360deg); } }
.animate-spin { animation: spin 1s linear infinite; }

/* Home page layout */
.home-layout { display: grid; grid-template-columns: 1fr 300px; gap: 20px; align-items: start; }
.home-feed { min-width: 0; }
.home-events-widget { position: sticky; top: 20px; }
.events-desktop { display: block; }
.events-mobile { display: none; }

@media (max-width: 968px) {
  .home-layout { grid-template-columns: 1fr; }
  .home-events-widget { position: static; order: -1; }
  .events-desktop { display: none; }
  .events-mobile { display: block; }
}

/* Contacts page grids */
.contacts-emergency-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(260px, 1fr)); gap: 10px; }
.contacts-category-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 16px; }

@media (max-width: 640px) {
  .contacts-emergency-grid { grid-template-columns: 1fr; }
  .contacts-category-grid { grid-template-columns: 1fr; }
}

/* Profile page layout */
.profile-layout { display: grid; grid-template-columns: minmax(0, 1fr) minmax(0, 320px); gap: 24px; align-items: start; }

@media (max-width: 768px) {
  .profile-layout { grid-template-columns: 1fr; }
}

/* Settings page layout */
.settings-layout {
  display: grid;
  grid-template-columns: minmax(0, 1fr) minmax(0, 340px);
  gap: 24px;
  align-items: start;
}

.settings-address-row {
  display: grid;
  grid-template-columns: 2fr 1fr;
  gap: 12px;
}

@media (max-width: 768px) {
  .settings-layout { grid-template-columns: 1fr; }
  .settings-address-row { grid-template-columns: 1fr; }
}

/* Admin communities grid */
.admin-community-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(320px, 1fr)); gap: 14px; }
.admin-theme-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }

@media (max-width: 640px) {
  .admin-community-grid { grid-template-columns: 1fr; }
  .admin-theme-grid { grid-template-columns: 1fr; }
}

/* TipTap editor styles */
.tiptap { outline: none; }
.tiptap h2 { font-family: var(--font-heading); font-size: 20px; font-weight: 700; color: var(--text); margin: 16px 0 8px; line-height: 1.3; }
.tiptap h3 { font-family: var(--font-heading); font-size: 16px; font-weight: 700; color: var(--text); margin: 14px 0 6px; line-height: 1.3; }
.tiptap p { margin: 0 0 10px; }
.tiptap ul, .tiptap ol { padding-left: 24px; margin: 8px 0; }
.tiptap li { margin: 4px 0; }
.tiptap blockquote { border-left: 3px solid var(--primary); padding-left: 16px; margin: 12px 0; color: var(--text-muted); font-style: italic; }
.tiptap hr { border: none; border-top: 1px solid var(--border); margin: 16px 0; }
.tiptap img { max-width: 100%; height: auto; border-radius: var(--radius-sm); margin: 12px 0; }
.tiptap a { color: var(--primary); text-decoration: underline; }
.tiptap strong { font-weight: 700; }
.tiptap em { font-style: italic; }
.tiptap u { text-decoration: underline; }
.tiptap s { text-decoration: line-through; }
.tiptap p.is-editor-empty:first-child::before {
  color: var(--text-faint); content: attr(data-placeholder); float: left; height: 0; pointer-events: none;
}

/* Documents grid */
.documents-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px; }

@media (max-width: 640px) {
  .documents-grid { grid-template-columns: 1fr; }
}

/* Facilities grids */
.facility-types-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); gap: 14px; }
.facilities-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 14px; }
.booking-layout { display: grid; grid-template-columns: 300px 1fr; gap: 20px; align-items: start; }

@media (max-width: 768px) {
  .facility-types-grid { grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); }
  .facilities-grid { grid-template-columns: 1fr; }
  .booking-layout { grid-template-columns: 1fr; }
}

@media (max-width: 480px) {
  .facility-types-grid { grid-template-columns: 1fr; }
}

/* Booking details row */
.booking-details-row { display: flex; gap: 16; flex-wrap: wrap; align-items: center; }

@media (max-width: 480px) {
  .booking-details-row { flex-direction: column; align-items: flex-start; gap: 4px; }
}

/* Issues layout */
.issue-detail-layout { display: flex; gap: 20px; align-items: flex-start; }
.issue-detail-sidebar { width: 240px; flex-shrink: 0; }
.issue-filters-bar select { min-width: 120px; }

@media (max-width: 768px) {
  .issue-detail-layout { flex-direction: column-reverse; }
  .issue-detail-sidebar { width: 100% !important; }
  .issue-filters-bar { flex-direction: column; }
  .issue-filters-bar input, .issue-filters-bar select { width: 100%; }
}